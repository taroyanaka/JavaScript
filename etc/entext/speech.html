<html>
<head>
    <meta charset="utf-8">
    <title>speech test</title>
    <meta name="viewport" content="width=device-width">
    <!-- https://github.com/codegrid/2016-web-speech-api/tree/gh-pages/speech_recognition -->
</head>

<body>
    <div class="header-Area">
        <h1>test</h1>
        <div class="header-Tools">
            <button onclick="start()">start</button>
            <!-- <button onclick="stop()">stop</button> -->
        </div>
    </div>
    <div class="console-Area"></div>
    <div id="foo"></div>
    <!-- <script src="console.js"></script> -->
    <script>
        function start() {
            var recognition = new webkitSpeechRecognition();
            recognition.maxAlternatives = 5;
            // recognition.lang = 'ja';
            recognition.lang = 'en';
            recognition.addEventListener('result', function (event) {
                var result = event.results[0];
                for (var i = 0; i < result.length; i++) {
                    var alt = result[i];
                    console.log(alt.confidence, alt.transcript);
                                // const makeLiTag = (value, index) => chapter += `<li data-id="${index}">${value}</li>`;
                                // R.forEachObjIndexed(makeLiTag, R.map(R.toString, dropWordSet0));
                    document.querySelector('div#foo').insertAdjacentHTML('afterBegin', `<p>${alt.transcript}</p>`);
                }
            });
            recognition.start();
        }

        // function stop(){
        //     recognition.stop()
        // }

    </script>
</body>

</html>