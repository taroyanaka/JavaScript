<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>word picker</title>
    <script src="ramda.js"></script>
    <!-- <script src="alasql.js"></script> -->
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        button{
            width: 3rem;
            height: 3rem;
            /* background-color: greenyellow; */
        }
    </style>
<style>
</style>
</head>
<body>
<textarea name="" class="res" cols="30" rows="10"></textarea>

<!-- SELECT
*
FROM
table_name -->
<div class="to">
    <button onclick="test(event);">SELECT</button>
    <button onclick="test(event);">*</button>
    <button onclick="test(event);">FROM</button>
    <button onclick="test(event);">table_name</button>
</div>
<div class="from">
    <button onclick="setText(event);">foo</button>
    <button onclick="setText(event);">bar</button>
    <button onclick="setText(event);">baz</button>
</div>

</body>
<script>
// R.intersperse('a', ['b', 'n', 'n', 's']);
let clickCount = 0;

let txt="";
function setText(event) {
    txt = event.target.innerText;
    document.querySelectorAll(".from > button").forEach(V=>{V.style="";})
    event.target.style = "background-color: greenyellow;";
}
// let foo = "";
function test(event) {
    // event.target.innerText = txt;
    switch (clickCount) {
        case 0:
        event.target.innerText = txt;
        // foo = event.target.innerText;
        event.target.style = "background-color: blueviolet;";
        clickCount++;
        reEditablize();
            break;
        case 1:
        event.target.innerText = "";
        event.target.style = "";
        clickCount = 0;
        // reEditablize();
            break;
        default:
            break;
    }
}

// document.querySelectorAll(".to > button")
// let foo="";
function reEditablize() {
    const hoge =  Array.from(document.querySelectorAll(".to > button")).reduce((A,V)=>{
        if(V.innerText){A.push(V.outerHTML)}
        // A.push(V.outerHTML)
        ;return A},[]);
    const blankButton = `<button onclick="test(event);"></button>`
    const hoge2 = R.intersperse(blankButton, hoge);
    const hoge2_1 = R.insert(0, blankButton, hoge2)
    const hoge2_2 = R.insert(-1, blankButton, hoge2_1)
    const hoge3 = hoge2_2.join("");
    document.querySelectorAll(".to > button").forEach(E=>{E.parentNode.removeChild(E)});
    document.querySelector(".to").insertAdjacentHTML("afterbegin", hoge3);
    const foo =         Array.from(document.querySelectorAll(".to > button")).reduce((A,V)=>{return A + V.innerText + " " } ,"");
    // console.log(foo);

    console.log(        foo    );
    document.querySelector(".res").value = foo;
}

reEditablize();

// Array.from(document.querySelectorAll(".to > button")).reduce((A,V)=>{return A + V.innerText},"");

</script>
</html>