<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>color text</title>
<meta name="viewport" content="width=device-width">
<!-- https://ramdajs.com/ -->
<script src="ramda.min.js"></script>
<!-- https://stackoverflow.com/questions/14446447/how-to-read-a-local-text-file -->
<!-- https://stackoverflow.com/questions/11422095/insert-html-as-a-string-without-jquery -->
<!-- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/shift -->
<!-- https://qiita.com/RyBB/items/c87af2413c34f9367d00 -->
</head>
<body id="allContents">

<style>
ul {
  list-style: none;
}
</style>

<select name="color" id="color" onInput="chooseColor();">
<option value="lightsalmon">lightsalmon<option>
<option value="salmon">salmon<option>
<option value="darksalmon">darksalmon<option>
<option value="lightcoral">lightcoral<option>
<option value="indianred">indianred<option>
<option value="crimson">crimson<option>
<option value="firebrick">firebrick<option>
<option value="red">red<option>
<option value="darkred">darkred<option>
<option value="coral">coral<option>
<option value="tomato">tomato<option>
<option value="orangered">orangered<option>
<option value="gold">gold<option>
<option value="orange">orange<option>
<option value="darkorange">darkorange<option>
<option value="lightyellow">lightyellow<option>
<option value="lemonchiffon">lemonchiffon<option>
<option value="lightgoldenrodyellow">lightgoldenrodyellow<option>
<option value="papayawhip">papayawhip<option>
<option value="moccasin">moccasin<option>
<option value="peachpuff">peachpuff<option>
<option value="palegoldenrod">palegoldenrod<option>
<option value="khaki">khaki<option>
<option value="darkkhaki">darkkhaki<option>
<option value="yellow">yellow<option>
<option value="lawngreen">lawngreen<option>
<option value="chartreuse">chartreuse<option>
<option value="limegreen">limegreen<option>
<option value="lime">lime<option>
<option value="forestgreen">forestgreen<option>
<option value="green">green<option>
<option value="darkgreen">darkgreen<option>
<option value="greenyellow">greenyellow<option>
<option value="yellowgreen">yellowgreen<option>
<option value="springgreen">springgreen<option>
<option value="mediumspringgreen">mediumspringgreen<option>
<option value="lightgreen">lightgreen<option>
<option value="palegreen">palegreen<option>
<option value="darkseagreen">darkseagreen<option>
<option value="mediumseagreen">mediumseagreen<option>
<option value="seagreen">seagreen<option>
<option value="olive">olive<option>
<option value="darkolivegreen">darkolivegreen<option>
<option value="olivedrab">olivedrab<option>
<option value="lightcyan">lightcyan<option>
<option value="cyan">cyan<option>
<option value="aqua">aqua<option>
<option value="aquamarine">aquamarine<option>
<option value="mediumaquamarine">mediumaquamarine<option>
<option value="paleturquoise">paleturquoise<option>
<option value="turquoise">turquoise<option>
<option value="mediumturquoise">mediumturquoise<option>
<option value="darkturquoise">darkturquoise<option>
<option value="lightseagreen">lightseagreen<option>
<option value="cadetblue">cadetblue<option>
<option value="darkcyan">darkcyan<option>
<option value="teal">teal<option>
<option value="powderblue">powderblue<option>
<option value="lightblue">lightblue<option>
<option value="lightskyblue">lightskyblue<option>
<option value="skyblue">skyblue<option>
<option value="deepskyblue">deepskyblue<option>
<option value="lightsteelblue">lightsteelblue<option>
<option value="dodgerblue">dodgerblue<option>
<option value="cornflowerblue">cornflowerblue<option>
<option value="steelblue">steelblue<option>
<option value="royalblue">royalblue<option>
<option value="blue">blue<option>
<option value="mediumblue">mediumblue<option>
<option value="darkblue">darkblue<option>
<option value="navy">navy<option>
<option value="midnightblue">midnightblue<option>
<option value="mediumslateblue">mediumslateblue<option>
<option value="slateblue">slateblue<option>
<option value="darkslateblue">darkslateblue<option>
<option value="lavender">lavender<option>
<option value="thistle">thistle<option>
<option value="plum">plum<option>
<option value="violet">violet<option>
<option value="orchid">orchid<option>
<option value="fuchsia">fuchsia<option>
<option value="magenta">magenta<option>
<option value="mediumorchid">mediumorchid<option>
<option value="mediumpurple">mediumpurple<option>
<option value="blueviolet">blueviolet<option>
<option value="darkviolet">darkviolet<option>
<option value="darkorchid">darkorchid<option>
<option value="darkmagenta">darkmagenta<option>
<option value="purple">purple<option>
<option value="indigo">indigo<option>
<option value="pink">pink<option>
<option value="lightpink">lightpink<option>
<option value="hotpink">hotpink<option>
<option value="deeppink">deeppink<option>
<option value="palevioletred">palevioletred<option>
<option value="mediumvioletred">mediumvioletred<option>
<option value="white">white<option>
<option value="snow">snow<option>
<option value="honeydew">honeydew<option>
<option value="mintcream">mintcream<option>
<option value="azure">azure<option>
<option value="aliceblue">aliceblue<option>
<option value="ghostwhite">ghostwhite<option>
<option value="whitesmoke">whitesmoke<option>
<option value="seashell">seashell<option>
<option value="beige">beige<option>
<option value="oldlace">oldlace<option>
<option value="floralwhite">floralwhite<option>
<option value="ivory">ivory<option>
<option value="antiquewhite">antiquewhite<option>
<option value="linen">linen<option>
<option value="lavenderblush">lavenderblush<option>
<option value="mistyrose">mistyrose<option>
<option value="gainsboro">gainsboro<option>
<option value="lightgray">lightgray<option>
<option value="silver">silver<option>
<option value="darkgray">darkgray<option>
<option value="gray">gray<option>
<option value="dimgray">dimgray<option>
<option value="lightslategray">lightslategray<option>
<option value="slategray">slategray<option>
<option value="darkslategray">darkslategray<option>
<option value="black">black<option>
<option value="cornsilk">cornsilk<option>
<option value="blanchedalmond">blanchedalmond<option>
<option value="bisque">bisque<option>
<option value="navajowhite">navajowhite<option>
<option value="wheat">wheat<option>
<option value="burlywood">burlywood<option>
<option value="tan">tan<option>
<option value="rosybrown">rosybrown<option>
<option value="sandybrown">sandybrown<option>
<option value="goldenrod">goldenrod<option>
<option value="peru">peru<option>
<option value="chocolate">chocolate<option>
<option value="saddlebrown">saddlebrown<option>
<option value="sienna">sienna<option>
<option value="brown">brown<option>
<option value="maroon">maroon<option>		
</select>
<div><input id="openFile" type='file' accept='text/plain' onchange="openFile(event);"></div>
<a name="save" id="save" value="save" onclick="save();" style="padding: 5px 10px;background: #5876a3;">save</a>
<a name="load" id="load" value="load" onclick="load();" style="padding: 5px 10px;background: #5876a3;">load</a>
<a name="saveClear" id="saveClear" value="saveClear" onclick="saveClear();" style="padding: 5px 10px;background: #5876a3;">saveClear</a>
<textarea name="foo" id="foo" cols="50" rows="10" required="required" autofocus="autofocus" placeholder="foo bar foo baz" onInput="splitTextAndMakeList();"></textarea>
<a name="splitTextAndMakeList" id="splitTextAndMakeList" value="splitTextAndMakeList" onclick="splitTextAndMakeList();" style="padding: 5px 10px;background: #5876a3;">splitTextAndMakeList</a>
<div>
<ul id="list"></ul>
</div>
<a id="thereissavedata"></a>

<script>
const chooseColor = () => document.querySelector("#color").value;
const paint = (event)=> event.target.style.background === "white" ? event.target.style.background = chooseColor() : event.target.style.background = "white";
const makeList = (array) =>	{
	document.querySelector(`#list`).insertAdjacentHTML(`afterBegin`, array.map(E=>`<li style="background:white" onclick="paint(event);save();"></li>`).join(''));
	let splitedTextArray = R.split("\n")(document.querySelector("#foo").value);
	document.querySelectorAll("li").forEach(V=>{V.textContent = splitedTextArray.shift()});
}
const openFile = (event) => {
	const reader =  new FileReader();
	reader.onload = () => document.querySelector('#foo').value = res = reader.result;
	reader.readAsText(event.target.files[0]);
};
const splitTextAndMakeList = ()=> makeList( R.split("\n")(document.querySelector("#foo").value) );
const save = () => localStorage.allContentsHTML = document.querySelector("#allContents").outerHTML;
const saveClear = () => { localStorage.clear();location.reload(); };
const load = () => {
	document.querySelectorAll("body").forEach(E=>{E.parentNode.removeChild(E)});
	const body = document.createElement("body");
	body.setAttribute("id", "allContents");
	document.querySelector("html").appendChild(body);
	document.querySelector(`body`).insertAdjacentHTML(`beforeend`, localStorage.allContentsHTML );
};

if(localStorage.allContentsHTML){ document.querySelector("#thereissavedata").textContent = "save data exists" };

// const test0 = () =>{
// 	document.querySelector("#foo").value = 
// `foo
// bar
// baz`;
// }
// test0();
</script>

</body>
</html>