<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ramda js to pure js</title>
    <script src="ramda.js"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        h1{
            font-size: 3px;
            font-weight: 100;
        }
        button{
            width: 3rem;
            height: 3rem;
        }
    </style>
</head>
<body>
<textarea name="" class="example" cols="30" rows="10"></textarea>
<textarea name="" class="res" cols="30" rows="10"></textarea>
<div>
    <button onclick="exe()">exe</button>
</div>
<h1>best effort(i cant read all code)</h1>
</body>
<script class="code">
let foo = [100, 200, 300];

const bar = foo.slice(0, 1);
const bar0_1 = foo.slice(0, -1);
const bar0_2 = foo.slice(-1);
const bar2 = R.take(1, foo);
const bar3 = R.take(1, JSON.parse(JSON.stringify(foo)));

const bar3_1 = R.takeLast(1, foo);
const bar3_2 = foo.slice(foo.length-1, foo.length);
const bar3_3 = R.takeLast(2, foo);
const bar3_4 = foo.slice(foo.length-2, foo.length);

function insert(idx, elm, list) {
    let res = list.slice(0);
    res.splice(idx, 0, elm);
    return res;
}
const bar4 = R.insert(1, "bar4", foo);
const bar4_1 = insert(1, "bar4", foo);

function insertAll(idx, elms, list) {
    return [].concat( list.slice(0, idx), elms, list.slice(idx) );
}
// [].concat([10,20], [100,200], [1000,2000])
// => (6)Â [10, 20, 100, 200, 1000, 2000]
const bar4_2 = R.insertAll(1, [0,1], foo);
const bar4_3 = insertAll(1, [0,1], foo);
const bar4_4 = R.insertAll(-1, [0,1], foo);
const bar4_5 = insertAll(-1, [0,1], foo);

const bar5 = JSON.stringify(
    R.innerJoin(
        (record, id) => record.id === id,
        [
            {id: 824, name: 'Richie Furay'},
            {id: 956, name: 'Dewey Martin'},
            {id: 313, name: 'Bruce Palmer'},
            {id: 456, name: 'Stephen Stills'},
            {id: 177, name: 'Neil Young'}
        ],
            [177, 456, 999]
    )
)
//=> [{id: 456, name: 'Stephen Stills'}, {id: 177, name: 'Neil Young'}]

function innerJoin(pred, xs, ys) {
    return xs.filter(X=>{
        let flag;
        ys.forEach(Y=>{if(pred(X, Y)){flag = true}});
        return flag ? true : false;
    });
};
const bar5_1 = JSON.stringify(
    innerJoin(
        (record, related_id) => record.id === related_id,
        [
            {id: 824, name: 'Richie Furay'},
            {id: 956, name: 'Dewey Martin'},
            {id: 313, name: 'Bruce Palmer'},
            {id: 456, name: 'Stephen Stills'},
            {id: 177, name: 'Neil Young'}
        ],
            [177, 456, 999]
    )
)

const bar6 = R.drop(1, ['foo', 'bar', 'baz']); //=> ['bar', 'baz']
function drop(n, list) {return list.slice(n, Infinity)}
const bar6_1 = drop(1, ['foo', 'bar', 'baz']);

const bar6_2 = R.dropLast(1, ['foo', 'bar', 'baz']); //=> ['foo', 'bar']
function dropLast(n, list) {return list.slice(0, list.length - n)}
const bar6_3 = dropLast(1, ['foo', 'bar', 'baz']);


function exe() {
    document.querySelector(".res").value = bar0_1;
    document.querySelector(".res").value = bar0_2;
    document.querySelector(".res").value = bar;
    document.querySelector(".res").value = bar2;
    document.querySelector(".res").value = bar3;
    document.querySelector(".res").value = bar3_1;
    document.querySelector(".res").value = bar3_2;
    document.querySelector(".res").value = bar3_3;
    document.querySelector(".res").value = bar3_4;

    document.querySelector(".res").value = bar4;
    document.querySelector(".res").value = bar4_1;
    document.querySelector(".res").value = bar4_2;
    document.querySelector(".res").value = bar4_3;
    document.querySelector(".res").value = bar4_4;
    document.querySelector(".res").value = bar4_5;

    document.querySelector(".res").value = bar5;
    document.querySelector(".res").value = bar5_1;

    document.querySelector(".res").value = bar6;
    document.querySelector(".res").value = bar6_1;
    document.querySelector(".res").value = bar6_2;
    document.querySelector(".res").value = bar6_3;
    // document.querySelector(".res").value = bar6_4;
    // document.querySelector(".res").value = bar6_5;
}
document.querySelector("button").click();

document.querySelector(".example").value = document.querySelector("script.code").innerText;
</script>
</html>