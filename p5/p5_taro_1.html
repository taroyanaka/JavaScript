<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>p5</title>
    <!-- https://openprocessing.org/sketch/1251650 -->
    <style>
        button {
            width: 10rem;
            height: 2rem;
        }

        input {
            width: 10rem;
            height: 2rem;
        }
    </style>
    <script src="ramda.js"></script>
    <script src="p5.js"></script>
    <!-- <script src="p5.createloop.js"></script> -->
    <!-- <script src="./allColors_14.js"></script> -->
    <!-- <script src="./allColors_14_2.js"></script> -->
    <!-- <script src="./allColors_14_3.js"></script> -->
    <!-- <script src="./allColors_8.js"></script> -->

    <!-- <script src="./allColors_10.js"></script> -->
    <script src="./nippon_allColors.js"></script>
    <meta charset="utf-8" />
</head>
<button onclick="setupdrawsave()">setupdrawsave</button>
<button onclick="save()">save</button>
<button onclick="setupdraw()">setupdraw</button>
<button onclick="resetup()">resetup</button>
<input type="number" name="number" class="number" value="0">
<input type="number" name="SEGMENT" class="SEGMENT" value="11.4">
<input type="number" name="SCALE" class="SCALE" value="2">
<span>random rotate <input type="checkbox" name="" class="randomrotate"></span>
<span>random color <input type="checkbox" name="" class="randomcolor"></span>
<span>background black <input type="checkbox" name="" class="backgroundblack"></span>
<span>FLUCTUATION <input type="checkbox" name="" class="FLUCTUATION"></span>

<body>
    <script>
        const save = () => saveCanvas(`randomGaussian_${colorArray.join("")}.png`);
const setupdraw = () => {
    document.querySelector(".number").value = Number(document.querySelector(".number").value) + 1;
    setup();
    draw();
}
const setupdrawsave = () => {
    setupdraw();
    save();
}
const resetup = () => setup();

        const STATIC = 1080;
        let colorArray = [];
        // const setup = () => { createCanvas(STATIC, STATIC)};
        function setup() {
            createCanvas(STATIC, STATIC, WEBGL);
            // noloop();
        }
        // const [X,Y,W] = [100,100,100];
        const makeSomething = (X, Y, W) => {
            translate(X, Y);
            // background(205, 105, 94);
            // rotateX(frameCount * 0.01);
            // rotateZ(frameCount * 0.01);
            rotateX(0);
            // rotateY(width/2);
            rotateY(0);
            rotateZ(0);
            // lights();
            // pointLight(color(255), 0, 0, -100);
            noStroke();
            // 円柱を描画(半径20、高さ50、x方向分割数6、y方向分割数3、円柱の上部を描画しない)
            fill("gray")
            // cylinder(width/3, height/2, 6, 6, true, true);
            cylinder(4 * W, 7 * W, 24, 1, false);
        }

    const makeRadianArray = (VOLUME) => {
        let ARY = [0];
        R.range(1, VOLUME).reduce((A, NUM, IDX) => {
            A += (TAU / VOLUME);
            ARY.push(A);
            return A;
        }, A = 0);
        return ARY;
    };

        // const draw = () => ;
        // function draw(){
        //     push();
        //     translate(150, 150);
        //     strokeWeight(5);
        //     makeSomething(X, Y, W * 1.3);
        //     pop();
        // }
        // function range(from, to) { return [...Array(to - from)].reduce((A, V, IDX) => { A.push(from + IDX); return A }, A = []) };

const shuffleArray = array => {
    for (let i = array.length - 1; i > 0; i--) {
        let r = Math.floor(Math.random() * (i + 1));
        let tmp = array[i];
        array[i] = array[r];
        array[r] = tmp;
    }
    return array
}

        function draw() {
            colorArray = random(allColors)
            .concat(random(allColors))
            .concat(random(allColors))
            .concat(random(allColors))
            .concat(random(allColors))
            .concat(random(allColors))
            .concat(random(allColors))
            .concat(random(allColors))
            .concat(random(allColors))
            .concat(random(allColors))
            .concat(random(allColors))
            .concat(random(allColors));
            colorArray = [random(colorArray)]
            .concat([random(colorArray)])
            .concat([random(colorArray)])
            .concat([random(colorArray)])
            .concat([random(colorArray)])
            .concat([random(colorArray)])
            .concat([random(colorArray)])
            .concat([random(colorArray)])
            .concat([random(colorArray)])
            .concat([random(colorArray)])
            colorArray = 
            shuffleArray(colorArray).slice(0, 5)
            .concat(['#ffffff'])
            .concat(['#000000'])
            ;

            // background("black");
            background("white");
            noStroke();
            // strokeWeight(0.1);
            noLoop();
            const MEAN_RATE = 0.001;
            const X_STANDARD_DEVIATION_RATE = 300;
            const Y_STANDARD_DEVIATION_RATE = 20;
            const w = 50;
            const MIN = 2;
            
            
            R.range(0, 100).forEach(NUM => {
                makeRadianArray(500).forEach(RADIAN_NUM => {
                    // const x = randomGaussian(0.1*NUM, 30);
                    const x = randomGaussian(MEAN_RATE*NUM, RADIAN_NUM * X_STANDARD_DEVIATION_RATE);
                    // const y = randomGaussian(0.1*NUM, 30);
                    const y = randomGaussian(MEAN_RATE*NUM, RADIAN_NUM * Y_STANDARD_DEVIATION_RATE);
                    // fill("white")
                    fill(random(colorArray));
                    ellipse(x, y, w - random(MIN, w));
                    // rect(x, y, w - random(MIN, w), w - random(MIN, w));
                })
            })
        }
    </script>
</body>

</html>