<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>p5</title>
    <!-- https://openprocessing.org/sketch/1253988 -->
    <style>
        button {
            width: 10rem;
            height: 2rem;
        }

        input {
            width: 10rem;
            height: 2rem;
        }
    </style>
    <script src="ramda.js"></script>

    <script src="p5.js"></script>
    <!-- <script src="p5.createloop.js"></script> -->

    <script src="./allColors_10.js"></script>
    <!-- <script src="./nippon_allColors.js"></script> -->
    <!-- <script src="./nippon_allColors3.js"></script> -->
    <meta charset="utf-8" />
</head>

<body>
    <button onclick="setupdrawsave()">setupdrawsave</button>
    <button onclick="setupdraw()">setupdraw</button>
    <input type="number" name="number" class="number" value="0">
    <button onclick="jump()">jump</button>
    <script>
        const static = 1080;

        // let colors = ["#ed3441", "#ffb03b", "#36acf5", "#ffd630", "#084e86"];
        const makeColors = () => allColors[Number(document.querySelector(".number").value)];

        const shuffleArray = array => {
            for (let i = array.length - 1; i > 0; i--) {
                let r = Math.floor(Math.random() * (i + 1));
                let tmp = array[i];
                array[i] = array[r];
                array[r] = tmp;
            }
            return array
        }

        const makeColor1 = () => {
            let ary = shuffleArray(
                allColors[Number(document.querySelector(".number").value)]
                    .concat(
                        // allColors[Number(document.querySelector(".number").value)+10]
                        shuffleArray(allColors)[0]
                    )
            );
            // ary = [ary[0], ary[1]];
            return ary
                // .slice(0, 1)
                // .concat(['#ffffff'])
                // .concat(['#000000'])

        }
        const makeColors2 = () => {
            return shuffleArray(
                allColors[Number(document.querySelector(".number").value)]
                .concat(
                    allColors[Number(document.querySelector(".number").value) + 1]
                )
                .concat(
                    allColors[Number(document.querySelector(".number").value) + 2]
                )
                .concat(
                    allColors[Number(document.querySelector(".number").value) + 3]
                )
            )
                .slice(0, 10)
                // .concat(['#ffffff'])
                .concat(['#ffffff'])
                .concat(['#000000'])
            // .concat(['#000000'])
        }
        const makeColors3 = () => {
            return shuffleArray(
                allColors[Number(document.querySelector(".number").value)]
                    .concat(
                        allColors[Number(document.querySelector(".number").value) + 100]
                   )
                    .concat(
                        allColors[Number(document.querySelector(".number").value) + 200]
                    )
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#ffffff'])
                // .concat(['#000000'])
                // .concat(['#000000'])
                // .concat(['#000000'])

                // .concat(['#e3e8ea'])
                // .concat(['#bccad0'])
                // .concat(['#9ba8ae'])
                // .concat(['#707a7e'])
                // .concat(['#495054'])

            )
                .slice(0, 3)
                .concat(['#ffffff'])
                .concat(['#000000'])
                ;
        }

        let colors = []
        function setup() {
            colors = makeColor1();
            createCanvas(static, static);
            // pixelDensity(2);
            // background(255);
            // background(random(makeColor1())[0]);
            // background("black");
            // background("#ffffff");
            background(random(makeColor1()));
            noLoop();
            noStroke();
            // strokeWeight(1);
            // R.repeat(0, 100000).forEach(V => {
            //     V
            //     makeCircle(
            //         random(-0.1, 1.1) * width,
            //         random(-0.1, 1.1) * height,
            //         random(5, 20)
            //     );
            // })
        }

        function makeQuad(NUM0, NUM1){
            // const x1 = 10;
            // const y1 = 10;
            // const x2 = 100;
            // const y2 = 10;
            // const x3 = 100;
            // const y3 = 100;
            // const x4 = 10;
            // const y4 = 100;

            fill(random(makeColor1()));
            // fill("white");

            // strokeWeight(10);
            // strokeWeight(random(25, 35)  / NUM );
            // stroke("white");
            const x1 = NUM0 + random(5, 6);
            const y1 = NUM1 + random(5, 6);
            const x2 = NUM0 + random(5, 6);
            const y2 = NUM1 + random(5, 6);
            const x3 = NUM0 + random(5, 6);
            const y3 = NUM1 + random(5, 6);
            const x4 = NUM0 + random(5, 6);
            const y4 = NUM1 + random(5, 6);
            // quad(x1, y1, x2, y2, x3, y3, x4, y4);

            circle(NUM0, NUM1, 1);
            // circle(NUM0, NUM1, random(8, 10));
            // circle(NUM0, NUM1, random(20, 25));
            // circle(NUM0, NUM1, random(10, 100));
            // circle(NUM0, NUM1, random(1, 6));


            // push();
            // stroke('purple');
            // strokeWeight(30);
            // point(x1, y1);
            // pop();

            // push();
            // stroke('green');
            // strokeWeight(30);
            // point(x2, y2);
            // pop();

            // push();
            // stroke('yellow');
            // strokeWeight(30);
            // point(x3, y3);
            // pop();

            // push();
            // stroke('gray');
            // strokeWeight(30);
            // point(x4, y4);
            // pop();
        }

        function draw() { 

            R.range(0, 110).forEach(X => {
            R.range(0, 110).forEach(Y => {
                makeQuad(X*50, Y*50);
                // translate(100, 100)
            });
            });
                // background(220);
                // noFill();
                // rect(0, 150, 150, 100);
                // rect(width - 150, 150, 150, 100);
                // rect(150, 150, 100, 100);
                // rect(0, 100, 100, 200);
                // beginShape();
                // vertex(100, 100);
                // vertex(150, 150);
                // vertex(150, height - 150);
                // vertex(100, height - 100);
                // endShape();
                // rect(width - 100, 100, 100, 200);
                // beginShape();
                // vertex(width - 100, 100);
                // vertex(width - 150, 150);
                // vertex(width - 150, height - 150);
                // vertex(width - 100, height - 100);
                // endShape();
                // rect(100, 100, 200, 200);
                // rect(0, 50, 50, 300);
                // beginShape();
                // vertex(50, 50);
                // vertex(100, 100);
                // vertex(100, height - 100);
                // vertex(50, height - 50);
                // endShape();
                // noFill();
                // rect(width - 50, 50, 50, 300);
                // beginShape();
                // vertex(width - 50, 50);
                // vertex(width - 100, 100);
                // vertex(width - 100, height - 100);
                // vertex(width - 50, height - 50);
                // endShape();
                // rect(50, 50, 300, 300);
                // beginShape();
                // vertex(0, 0);
                // vertex(50, 50);
                // vertex(50, height - 50);
                // vertex(0, height);
                // endShape();
                // beginShape();
                // vertex(width, 0);
                // vertex(width - 50, 50);
                // vertex(width - 50, height - 50);
                // vertex(width, height);
                // endShape();

        }


        function makeCircle(x, y, d) {
            // fill(random(makeColor1()));
            noStroke();
            // strokeWeight(1);
            circle(x, y, d);
            // fill(random(makeColor1()));
            fill(random(colors));
        }

        const save = () => saveCanvas(`${document.querySelector(".number").value}_${makeColor1().join("")}.png`);
        const setupdraw = () => {
            document.querySelector(".number").value = Number(document.querySelector(".number").value) + 1;
            setup();
            draw();

        }

        const setupdrawsave = () => {
            setupdraw();
            save();
        }

    </script>
</body>

</html>