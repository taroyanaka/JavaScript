<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>svg_js</title>

    <!-- https://svgjs.dev/docs/3.0/ -->
    <!-- https://jsfiddle.net/Fuzzy/f2wbgx5a/ -->

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/3.1.2/svg.js" integrity="sha512-WXWhnFUmZx+snPw8v2JjWQ0cdLUCLxTXhyqiZb7G5pkZZEGPBgVSzILSpkPK9haxW75sX5znfF08rsVnf6BUlw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
<script src="svg.@3.1.2.js"></script>
    <style>
    /* @import url('https://fonts.googleapis.com/css?family=Inconsolata'); */
    #drawing {
        width: 100%;
        height: 300px;
    }
    tspan {
        fill: #e5e5e5;
        stroke: #f06;
        stroke-width: 0.85;
    /* font-family: 'Inconsolata'; */
    }
    input[type=text] {
        width: 100%;
    /* font-family: 'Inconsolata'; */
    font-size: 14px;
    outline: none;
    color: #666;
    }


.parent_bubble {
    display: grid;
    /* grid-template-columns: repeat(3, 1fr); */
    /* grid-template-rows: repeat(3, 1fr); */
    width: 360px;
    height: 360px;
    background-color: #f06;
}
.bubble {
    /* grid-column: 1/3; */
    /* grid-row: 1/3; */
    /* width: 180px; */
    /* height: 360px; */
    background-color: gray;
    border-radius: 10px;
    line-break: auto;
}
.bubble_2 {
    /* grid-column: 3/3; */
    /* grid-row: 1/3; */
    /* width: 180px; */
    /* height: 360px; */
    background-color: purple;
    clip-path: polygon(0% 40%, 10% 50%, 0% 60%);
    clip-path: polygon(0% 10%, 10% 20%, 0% 30%);
}
.text{
    line-break: anywhere;
}
    </style>
<style class="wrap"></style>
</head>
<body>
<!-- <p class="text">aaaaaaaaaaaaaaaaaaaaaaaaaa aaaaaaaaaaaaaaaa aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</p> -->



<div class="parent_bubble">
    <div class="bubble"><p class="text">aaaaaaaaaaaaaaaaaaaaaaaaaaaaa</p></div>
    <div class="bubble_2"></div>
    <!-- <div class="bubble"></div> -->
    <!-- <div class="bubble"></div> -->
    <!-- <div class="bubble"></div> -->
</div>

<!-- https://saruwakakun.com/html-css/reference/speech-bubble#section5 -->
<div class="balloon4">
  <!-- <p>画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい画像を喋らせたり動かしたりしたい</p> -->
</div>
<style>
.balloon4 {
  position: relative;
  margin: 2em 0 2em 40px;
  padding: 15px;
  background: #fff0c6;
  border-radius: 30px;
}

.balloon4:before {  
  content: "";
  position: absolute;
  left: -38px;
  width: 13px;
  height: 12px;
  bottom: 0;
  background: #fff0c6;
  border-radius: 50%;
}

.balloon4:after {
  content: "";
  position: absolute;
  left: -24px;
  width: 20px;
  height: 18px;
  bottom: 3px;
  background: #fff0c6;
  border-radius: 50%;
}
.balloon4 p {
  margin: 0; 
  padding: 0;
}
</style>
<input type="text" value="Dragon----- - - - ->" placeholder="Type text here...">
<div id="drawing"></div>
<div id="drawing_2"></div>
<script>
const exe = () => {var input = document.querySelector('input[type=text]')
var draw = SVG().addTo('#drawing').viewbox(0, 0, 200, 140)
var text = draw.text(function(add) {
    add.tspan( input.value )
})
textPath = text.path('M10 80 C 40 10, 65 10, 95 80 S 150 150, 180 80')
textPath.animate(1000).ease('<>')
    .plot('M10 80 C 40 150, 65 150, 95 80 S 150 10, 180 80')
    // .plot('M 100 100 c 20.6667 20.3333 4 8 8 7 S 10.6667 5 12 4')
    .loop(true, true)


input.addEventListener('keyup', updateText(textPath))
function updateText(textPath) {
    return function() {
        textPath.tspan(this.value)
    }
}};
// exe();


// var draw_2 = SVG().addTo('#drawing_2').viewbox(0, 0, 10,10);
var draw_2 = SVG().addTo('#drawing_2').size(300, 300)
// var nested = draw_2.nested();
// var rect = nested.rect(200, 200);
// var polygon = draw_2.polygon('0,0 100,50 50,100').fill('none').stroke({ width: 1 })

var polygon = draw_2.polygon('10,0 200,150 150,150').fill('#f06').stroke({ width: 1 });
// var polygon = draw_2.polygon('50,0 60,40 100,50 60,60 50,100 40,60 0,50 40,40').fill('#f06').move(20, 20);

// var text = draw_2.plain('Lorem ipsum dolor sit amet consectetur.').fill("#e5e5e5").move(20, 20);
var text = draw_2.text(function(add) {
  add.tspan('Lorem ipsum dolor sit amet ').newLine()
  add.tspan('consectetur').fill('#f06')
  add.tspan('.')
  add.tspan('Cras sodales imperdiet auctor.').newLine().dx(20)
  add.tspan('Nunc ultrices lectus at erat').newLine()
  add.tspan('dictum pharetra elementum ante').newLine()
})

// var group = draw_2.group();
// group.path('M10,20L30,40');
// group.add(rect);

// var symbol = draw_2.symbol()
// symbol.rect(100, 100).fill('#f09')

// var use  = draw_2.use(symbol).move(200, 200)
// var defs = draw_2.defs()
// var defs = rect.root().defs()

1/2
1/3
1/4

6/12
4/12
3/12


const MAX_NUM = 2;
const width_num = 360 / MAX_NUM;
const height_num = 360 / MAX_NUM;
// const MAX_NUM = number_of_divisions;
// const THIS_PATTERN_NUM = number_of_divisions + 2;
// const colomn_num = MAX_NUM/THIS_PATTERN_NUM;
// const bubble_num = MAX_NUM/THIS_PATTERN_NUM;

const COLUMN_OFFSET = 1;
const COLUMN_OFFSET_plus_bubble_2 = COLUMN_OFFSET + 1;

const ROW_OFFSET = 1;
// const ROW_OFFSET_plus_bubble_2 = ROW_OFFSET + 1;
const ROW_OFFSET_plus_bubble_2 =  1;

// const colomn_num_string = colomn_num.toString();
// const colomn_num_string = MAX_NUM.toString();
// const OFFSET_string = OFFSET.toString();
// const OFFSET_plus_bubble_2_string = OFFSET_plus_bubble_2.toString();
// const bubble_num_string = bubble_num.toString();
// const bubble_num_string = MAX_NUM.toString();

document.querySelector(`.wrap`).textContent = "";
document.querySelector(`.wrap`).textContent += `.parent_bubble{
grid-template-columns: repeat(${MAX_NUM}, 1fr);
grid-template-rows: repeat(${MAX_NUM}, 1fr);
}`;

document.querySelector(`.wrap`).textContent += `.bubble{
grid-column: ${COLUMN_OFFSET}/${MAX_NUM};
grid-row: ${ROW_OFFSET}/${MAX_NUM};
    width: ${width_num}px;
    height: ${height_num}px;
}`;

document.querySelector(`.wrap`).textContent += `.bubble_2{
grid-column: ${COLUMN_OFFSET_plus_bubble_2}/${MAX_NUM};
grid-row: ${ROW_OFFSET_plus_bubble_2}/${MAX_NUM};
    width: ${width_num}px;
    height: ${height_num}px;
}`;
</script>
</body>
</html>