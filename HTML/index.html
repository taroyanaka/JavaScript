<!DOCTYPE html>  
<html>  
<head>  
</head>  

<body>  
<a href="https://dionyziz.github.io/stream.js-website/">stream.js</a>
<a href="https://ramdajs.com/docs/">ramda.js</a>
<p>% browser-sync start --server --files='*.*'</p>




<input id="loadFile" type="file" multiple><br>
<textarea id="info"></textarea>






<script src="../stream.js"></script>
<script src="../ramda.min.js"></script>
<!--<script src="//cdnjs.cloudflare.com/ajax/libs/ramda/0.25.0/ramda.min.js"></script>-->

<script>

const dw = document.write.bind(document);
var s = Stream.make(10, 20, 30); // s is now a stream containing 10, 20, and 30
dw( s.length() ); // => 3
dw( s.head() );   // => 10
dw( s.item(0) );  // exactly equivalent to the line above
dw( s.item(1) );  // => 20
dw( s.item(2) );  // => 30

var naturalNumbers = Stream.range(); // naturalNumbers is now 1, 2, 3, ...

var evenNumbers = naturalNumbers.map(function (x) {
  return 2 * x; // evenNumbers is now 2, 4, 6, ...
});

var oddNumbers = naturalNumbers.filter(function (x) {
  return x % 2 != 0; // oddNumbers is now 1, 3, 5, ...
});

evenNumbers.take(3).print(); // => 2, 4, 6
oddNumbers.take(3).print(); // => 1, 3, 5

function f (x) {
  return 2 * x;
}

var s = Stream.range(10, 15); // 10, 11, 12, 13, 14, 15
var doubled = s.map(f);
doubled.print(); 


// ramda.js
dw("ramda.js");
dw(R.keys({a: 1, b: 2, c: 3})); //=> ['a', 'b', 'c']

var diff = function(a, b) { return a - b; };
dw(R.prop('x', {x: 100})); //=> 100
dw(R.pipe(R.reverse,R.unnest,R.unnest,R.sort(diff))([1,2,3,[10,20,[100,200]]]));
dw(R.pipe(R.reverse,R.unnest,R.unnest,R.sort(diff),R.reverse)([1,2,[10,20,[100,200]]]));
dw(R.pluck(0)(R.toPairs({a:1,b:2,c:3}))); //=>["a", "b", "c"]
dw(R.pluck(1)(R.toPairs({a:1,b:2,c:3}))); //=> [1, 2, 3]




$("#loadFile").onchange = function(evt) {
    var file = evt.target.files[0];
    if (!file.type.match(/text/)) {
        alert('テキストファイルを' + '選んで下さい');
        return;
    }

    var reader = new FileReader();
    reader.onload = function(evt) {
        $("#info").value = evt.target.result;
    }

    reader.readAsText(file, "utf-8");
}

function $(id) {
    return document.querySelector(id);
}

</script>

</body> 
</html> 
