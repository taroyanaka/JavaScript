<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Sample</title>
    <script type="text/javascript">
  const DQSA = document.querySelector.bind(document);
  const URL = 'https://firestore.googleapis.com/v1beta1/projects/taro-fe94c/databases/(default)/documents/cities/LA';
  const PCOMURL = 'https://firestore.googleapis.com/v1beta1/projects/taro-fe94c/databases/(default)/documents/porncom/';
</script></head>
  <body>

    
    <ul id="bar"></ul>
    <script>
          var output = [];
function* gfn(from, to){ while(from <= to) yield from++; };
var g = gfn(1, 2);

for(var num of g){
  var PCOMNUMURL = PCOMURL+num.toString();   
  console.log(PCOMNUMURL);
//onload=bar=()=>{fetch(PCOMNUMURL).then(res=>{return res.json()}).then((txt)=>{DQSA('#bar').innerHTML=txt["fields"]["views"]["integerValue"]})};
onload = foo = () => {
  fetch(PCOMNUMURL).then(res => {
    return res.json()
  }).then((txt) => {
    output.push(txt["fields"]["views"]["integerValue"]);
//    DQSA('#foo').innerHTML = txt["fields"]["views"]["integerValue"]
  })
}


      var songs = output;
          var $ul = document.querySelector('#bar'); // ul要素
      
        var fragment = document.createDocumentFragment();

        for(var cnt=0, len=songs.length; cnt<len; cnt++ ){
            var $li = document.createElement('li');
            var song = document.createTextNode(songs[cnt]);
            $li.appendChild(song);
            fragment.appendChild($li); // fragmentの追加する
        }

        // 最後に追加！
        $ul.appendChild(fragment);

      
    </script>

  </body>
</html>
