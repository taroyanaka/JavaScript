<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Sample</title>
    <script type="text/javascript">
  const DQSA = document.querySelector.bind(document);

  const PCOMURL = 'https://firestore.googleapis.com/v1beta1/projects/taro-fe94c/databases/(default)/documents/porncom/1';
</script></head>
  <body onLoad='init()'>

    
<div id="wrapper"></div>
    <script>
init = () =>{

  //var div = document.createElement('div');div.innerHTML = 'hoge';
  //document.getElementById('wrapper').appendChild(div);

  function* gfn(from, to){ while(from <= to) yield from++; };
  var g = gfn(1, 30);
   for(var num of g) {  
    




    (() => {
      fetch('https://firestore.googleapis.com/v1beta1/projects/taro-fe94c/databases/(default)/documents/porncom/'+num.toString()).then(res => {
        return res.json()
      }).then((txt) => {
        var div = document.createElement('div');div.innerHTML = txt["fields"]["views"]["integerValue"];
        document.getElementById('wrapper').appendChild(div);
//        console.log(txt["fields"]["views"]["integerValue"]);
      })
    })(); 

       }
     
     
}
    </script>

  </body>
</html>
