<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vent element position</title>
    <style>

    </style>
</head>
<body>
    <input type="text" class="name" value="foo">
    <select name="" class="column" onInput="exe()">
        <!-- <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option> -->
    </select>
    <select name="" class="row" onInput="exe()">
        <!-- <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option> -->
    </select>

    <!-- <input type="number" name="" class="column" value="10" oninput="exe()"> -->
    <!-- <input type="number" name="" class="row" value="10" oninput="exe()"> -->

<div class="parent">
    <div class="child"></div>
</div>
</body>
<script>

const option = [...Array(100).keys()].map((V,IDX)=>`<option value="${IDX+1}">${IDX+1}</option>`).join("");
document.querySelector(".column").insertAdjacentHTML("afterbegin", option);
document.querySelector(".row").insertAdjacentHTML("afterbegin", option);

function xprod(a,b){return a.reduce((A,aV,aIDX)=>{const RESULT=b.reduce((B,bV)=>{B.push([a[aIDX],bV]);return B},B=[]);A.push(...RESULT);return A},A=[])};


let list;
let res;

let css = `
.parent{
    width: 300px;
    height: 300px;
    background-color: tomato;

    display: grid;
    grid-template-columns: repeat(10, 1fr);
    grid-template-rows: repeat(10, 1fr);
    column-gap: 1px;
    row-gap: 1px;
}
div[class*="child"]{
    width: 100%;
    height: 100%;
    background-color: greenyellow;
}
`

function makeCss() {
    return `
.parent{
    width: 100vw;
    height: 100vh;
    background-color: tomato;

    display: grid;
    grid-template-columns: repeat(${document.querySelector(".column").value}, 1fr);
    grid-template-rows: repeat(${document.querySelector(".row").value}, 1fr);
    column-gap: 1px;
    row-gap: 1px;
}
div[class*="child"]{
    width: 100%;
    height: 100%;
    background-color: greenyellow;
}
`
}

function getList() {
    column = Number(document.querySelector(".column").value);
    row = Number(document.querySelector(".row").value);
    return xprod([...Array(column).keys()], [...Array(row).keys()]);
}

function exe() {
    res = getList().map(V=> `<div class="child-${V[0]}-${V[1]}" data-row="${V[0]}" data-column="${V[1]}"></div>`).join("")
    document.querySelector("style").innerText = makeCss();
    document.querySelector(".parent").innerHTML = "";
    document.querySelector(".parent").insertAdjacentHTML("afterbegin", res);
}
exe();

function test() {
    document.querySelector(".column").value = 10;
    document.querySelector(".row").value = 10;
    exe();
    document.querySelectorAll(`div[class*="child"]`).forEach(V=>V.addEventListener("click", exe2 ,false));
}
test();

function exe2(event) {
    event.target.style = "background-color: gray;";
    event.target.innerText = document.querySelector(".name").value;
}
</script>
</html>