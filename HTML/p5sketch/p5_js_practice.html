<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>p5.js practice</title>
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.8/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.8/addons/p5.dom.js"></script>
    <script>
// myscript.js

// var x = 0;

// function setup() {
//   createCanvas(480, 240);
//   // background(127);
//   // background(255, 0, 0);
//   // colorMode(HSB, 100);
//   // background(50, 100, 80, 20);
//   background('red');
//   background('#ff0000');
//   background('rgba(255, 0, 0, 0.8)');
// }
// function draw() {
//   // そのあと繰り返し実行される処理
//   background(0);
//   rect(x, 40, 50, 50);
//   x++;
// }

















/*
width height

rectMode(CORNER)
rect(x, y, w, h)

rectMode(CORNERS)
rect(x1, y1, x2, y2)

rectMode(CENTER)
rect(cx, cy, w, h)

rectMode(RADIUS)
rect(cx, cy, w/2, h/2)
*/

// function setup() {
//   createCanvas(480, 240);
//   background('skyblue');

//   // rect(50, 50, 150, 100);
//   // rect(width/2, height/2, 150, 100);
//   rectMode(CENTER);
//   rect(width/2, height/2, 150, 100);

  // ellipse(width/2, height/2, 200, 100);
//   line(0, 0, width/2, height/2);

// }
















/*
塗りと線
*/

// function setup() {
//   createCanvas(480, 240);
//   background('skyblue');

//   var c = color('pink');
//   // fill(c);

//   // fill('pink');

//   noFill();

//   stroke(c);
//   strokeWeight(5);
//   noStroke();
  
//   ellipse(width/2, height/2, 200, 100);
// }



/*
テキスト

textAlign
text(s, x, y, w, h);

*/

// function setup() {
//   createCanvas(480, 240);
//   background('skyblue');

//   textAlign(LEFT, TOP);
//   textSize(32);
//   // textFont('Impact');
//   textStyle(BOLD);

//   fill('pink');
//   strokeWeight(5);
//   stroke('gray');
//   text("hello world", 100, 100);

//   ellipse(100, 100, 10, 10);
// }

/*
変形
*/

// function setup() {
//   createCanvas(480, 240);
//   background('skyblue');
//   noStroke();

//   fill(255, 0, 0, 127);
//   rect(0, 0, 100, 100);

//   push();
//   // translate(10, 10);
//   // rotate(PI/4);
//   // rotate(radians(30));
//   scale(2, 0.5);
//   fill(0, 0, 255, 127);
//   rect(0, 0, 100, 100);
//   pop();

// }

/*
mouse
mouseX, mouseY
mouseIsPressed
mousePressed()
*/

// var r = 50;

// function setup() {
//   createCanvas(480, 240);
// }

// function draw() {
//   noStroke();
//   background('skyblue');

//   if (mouseIsPressed === true) {
//     fill('pink');
//   } else {
//     fill('white');
//   }

//   // ellipse(mouseX, mouseY, 50, 50);
//   ellipse(mouseX, mouseY, r, r);
// }

// function mousePressed() {
//   r += 10;
//   return false;
// }












/*
キー入力
keyIsPressed

keyTyped(): 特殊キーを無視
keyPressed(): 大文字小文字を区別しない

key: 通常キー
keyCode: 特殊キー ALT ENTER TAB
*/

// var r = 50;

// function setup() {
//   createCanvas(480, 240);
// }

// function draw() {
//   noStroke();
//   background('skyblue');

//   if (keyIsPressed === true) {
//     fill('pink');
//   } else {
//     fill('white');
//   }

//   ellipse(mouseX, mouseY, r, r);
// }

// function keyTyped() {
//   if (key === 'u') {
//     r += 10;
//   }
//   return false;
// }

// function keyPressed() {
//   if (keyCode === UP_ARROW) {
//     r += 10;
//   }
//   return false;
// }








/*
乱数

random() 0-1
random(n) 0-n
random(n, m) n-m
*/

// var x, y, r;

// function setup() {
//   createCanvas(480, 240);
//   noStroke();
//   background('skyblue');
// }

// function draw() {
//   x = random(width);
//   y = random(height);
//   if (random() > 0.9) {
//     r = random(50, 80);
//   } else {
//     r = random(10, 30);
//   }
//   fill(255, 255, 255, random(30, 250));
//   ellipse(x, y, r, r);
// }










/*
sin, cos
*/

// var angle = 0;
// var r = 30;

// function setup() {
//   createCanvas(480, 240);
//   background('skyblue');
//   noStroke();
// }

// function draw() {
//   push();
//   translate(width/2, height/2);
//   x = sin(radians(angle)) * r;
//   y = cos(radians(angle)) * r;
//   ellipse(x, y, 10, 10);
//   pop();
//   angle += 2;
//   r += 0.1;
// }




/*
p5.dom
*/

var angle = 0;
var r = 30;

var slider;
var button;

function setup() {
  createCanvas(480, 240);
  background('skyblue');
  noStroke();

  slider = createSlider(0, 100, 30);
  slider.position(10, 20);

  button = createButton("clear!");
  button.position(10, 40);
  button.mousePressed(function() {
    background('skyblue');
  });
}

function draw() {
  r = slider.value();
  push();
  translate(width/2, height/2);
  x = sin(radians(angle)) * r;
  y = cos(radians(angle)) * r;
  ellipse(x, y, 10, 10);
  pop();
  angle += 2;
  r += 0.1;
}  
</script>
  </body>
</html>
