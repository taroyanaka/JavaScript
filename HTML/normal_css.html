<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>two column layout</title>
    <link rel="stylesheet" href="reset.css">
    <script src="./ramda.@0.28.0.js"></script>
    <script src="./lorem_and_king_lear_full_text.js"></script>
    <!-- https://www.cssui.dev/docs/components/accordion/ -->
    <link rel="stylesheet" href="cssui/cssui.min.css">
    <link rel="stylesheet" href="cssui/cssui.accordion.min.css">
<style>
:root{

font-weight: 900;
font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
    --none-or-block-col-0: '';
    --none-or-block-col-1: '';
    --none-or-block-col-2: '';
    --none-or-block-col-3: '';
}
:root.none{
    --none-or-block-col-0: none;
    --none-or-block-col-1: none;
    --none-or-block-col-2: none;
    --none-or-block-col-3: none;
}
:root.none-col-2-col-3{
    /* --none-or-block-col-0: none; */
    /* --none-or-block-col-1: none; */
    --none-or-block-col-2: none;
    --none-or-block-col-3: none;
}
:root.none-col-0-col-2{
    --none-or-block-col-0: none;
    /* --none-or-block-col-1: none; */
    --none-or-block-col-2: none;
    /* --none-or-block-col-3: none; */
}
textarea{
    font-size: large;
    font-weight: bold;
    border: none;
    /* resize: none; */
    background: transparent;
    overflow: auto;
}
input, button {
    font-size: large;
    font-weight: bold;

    border: none;
    background: transparent;
    /* background: transparent; */
    cursor: pointer;
}
.row {
    display: grid;
    /* grid-template-columns: repeat(4, 1fr); */
    /* grid-auto-columns: minmax(10px, 1fr); */
    grid-template-columns: repeat(auto-fit, minmax(3rem, 1fr));
    grid-template-rows: repeat(10, 1fr);
}
:is(.col-0, .col-1, .col-2, .col-3) {
    /* display: none; */
    width: fit-content;
    /* width: auto; */
    grid-row: 1 / 11;
    object-fit: fill;
    /* object-fit: contain; */
}
.col-0 {
    display: var(--none-or-block-col-0);
    /* width: fit-content; */
    /* grid-column: 1 / 2; */
}
.col-1 {
    display: var(--none-or-block-col-1);
    /* width: fit-content; */
    /* grid-column: 2 / 3; */
    /* text-align: right; */
    /* align-content: right; */
}
.col-1 ul {
    list-style-type: none;
    padding: 0;
  display: grid;

    grid-auto-columns: auto;
    grid-auto-rows: auto;
  justify-items: end;
}
    /* text-align: right; */
    /* align-content: right; */

.col-2 {
    display: var(--none-or-block-col-2);
    /* width: fit-content; */
    /* grid-column: 3 / 4; */
}
.col-3 {
    display: var(--none-or-block-col-3);
    /* width: fit-content; */
    /* grid-column: 4 / 5; */
}
/* .foo {
    width: 70%;
} */
section{
--accordion-panel-background: #000;
/* --accordion-title-spacing: 100rem; */
}

textarea.col-0 {
    width: 90%;
    height: 100vh;
}
.red{
    color: red;
}



/* https://codepen.io/hashikaru/pen/ZEBYoZp */
.x-scroll {
  display: flex;
  scroll-snap-type: x mandatory;
  overflow-x: scroll;
  width: 100%;
  height: calc(100vh - 56px);
  box-sizing: border-box;
}
.x-scroll .slide {
  scroll-snap-align: start;
  flex: none;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}


.box{
  /* filter: blur(2px) brightness(1.3); */
  /* transform: scale(1.8); */

    position: relative;
    z-index: -1;
}
.inner_box{
    position: absolute;
    /* width: 10vw; */
}
.box_0{
    top: 0px;
}
/* .box_1{
    top: 10px;
    left: 30px;
}
.box_2{
    top: 20px;
    left: 60px;
} */
.circle {
    border-radius: 50%;
    width: 100px;
    height: 100px;
}
.circle_1 {
    background: red;
}
.circle_2 {
    background: gray;
}
.circle_3 {
    background: blueviolet;
}
.circle_4 {
    background: palegreen;
}
.circle_5 {
    background: rgb(192, 192, 192);
}
.circle_6 {
    background: palevioletred;
}
.circle_7 {
    background: plum;
}
.circle_8 {
    background: powderblue;
}
.circle_9 {
    background: burlywood;
}
.circle_10 {
    background: azure;
}
</style>
</head>
<body>

<div class="box">
<!-- <div class="inner_box box_0">
<div class="circle circle_1"></div>
<div class="circle circle_2"></div>
<div class="circle circle_3"></div>
<div class="circle circle_4"></div>
</div>
<div class="inner_box box_1">
<div class="circle circle_1"></div>
<div class="circle circle_2"></div>
<div class="circle circle_3"></div>
<div class="circle circle_4"></div>
</div>
<div class="inner_box box_2">
<div class="circle circle_1"></div>
<div class="circle circle_2"></div>
<div class="circle circle_3"></div>
<div class="circle circle_4"></div>
</div> -->
</div>

<input type="text" name="target_str" class="target_str" value="" onchange="execute()" oninput="execute()">
<div class="layout_change">
<input type="button" value="css_root_reset" onclick="css_root_reset()">
<input type="button" value="css_root_none_co_2_col_3" onclick="css_root_none_co_2_col_3()">
<input type="button" value="css_root_none_co_0_col_2" onclick="css_root_none_co_0_col_2()">
</div>
<div class="sample">
<input type="button" value="sample_text_lorem" onclick="sample_text_lorem()">
<input type="button" value="sample_text_king_lear_full_text" onclick="sample_text_king_lear_full_text()">
</div>

<div class="container">
<div class="row">

<!-- https://codepen.io/hashikaru/pen/ZEBYoZp -->
<!-- <div class="x-scroll">
    <div class="slide item-04">
        <div class="col-0">
        <h1>col-0</h1>
        <textarea name="col-0" class="col-0"></textarea>
        </div>

        <div class="col-1">
        <h1>col-1</h1>
        <ul></ul>
        <p></p>
        </div>
    </div>

    <div class="slide item-05">
        <div class="col-1">
        <h1>col-1</h1>
        <ul></ul>
        <p></p>
        </div>

        <div class="col-2">
        <h1>col-2</h1>
        <p class="col-2"></p>
        </div>
    </div>

    <div class="slide item-06">
        <div class="col-2">
        <h1>col-2</h1>
        <p class="col-2"></p>
        </div>

        <div class="col-3">
        <h1>col-3</h1>
        <p class="col-3"></p>
        </div>
    </div>
</div> -->

<div class="col-0">
<h1>col-0</h1>
<textarea name="col-0" class="col-0" oninput="execute();"></textarea>
</div>

<div class="col-1">
<h1>col-1</h1>
<ul></ul>
<p></p>
</div>

<div class="col-2">
<section data-accordion="" class="foo">
  <div data-accordion-item="">
    <input type="checkbox" id="panel-1">
    <label for="panel-1">Item 1</label>
    <div data-accordion-panel="">PANEL-1PANEL-1PANEL-1PANEL-1PANEL-1PANEL-1PANEL-1PANEL-1PANEL-1PANEL-1PANEL-1</div>
  </div>
  <div data-accordion-item="">
    <input type="checkbox" id="panel-2">
    <label for="panel-2" data-accordion-label="">Item 2</label>
    <div data-accordion-panel="">
        <h1>col-2</h1>
        <p class="col-2"></p>
    </div>
  </div>
  <div data-accordion-item="">
    <input type="checkbox" id="panel-3">
    <label for="panel-3" data-accordion-label="">Item 3</label>
    <div data-accordion-panel="">PANEL-3PANEL-3PANEL-3PANEL-3PANEL-3PANEL-3PANEL-3PANEL-3PANEL-3PANEL-3PANEL-3</div>
  </div>
  <div data-accordion-item="">
    <input type="checkbox" id="panel-4">
    <label for="panel-4" data-accordion-label="">Item 4</label>
    <div data-accordion-panel="">PANEL-4PANEL-4PANEL-4PANEL-4PANEL-4PANEL-4PANEL-4PANEL-4PANEL-4PANEL-4PANEL-4</div>
</div>
</section>
<!-- <h1>col-2</h1> -->
<!-- <p class="col-2"></p> -->
</div>


<div class="col-3">
<h1>col-3</h1>
<p class="col-3"></p>
</div>


</div>
</div>

<script>
const source_code_disposal_site = () => {
    // STR.replaceAll(/[^a-z]/g, '');
    // R.transpose([[1, 'a'], [2, 'b'], [3, 'c']]);
    // R.zip([1, 2, 3], ['a', 'b', 'c']);
    // let target = "dolorum";
    // const is_true = x => x === true;
    // R.count(is_true, list_1.map(V=>V === target));
    // const test = (THE_LIST, TARGET) => {
    //     const target_index = R.findIndex(R.equals(TARGET), list_1);
    //     return THE_LIST[target_index][2] === true;
    // }
    // test(the_list, target_is());
};

const sample_text_lorem = () => {document.querySelector("textarea.col-0").value = lorem;execute();init();};
const sample_text_king_lear_full_text = () => {document.querySelector("textarea.col-0").value = king_lear_full_text;execute();init();};

const pre_processing = () => {
    document.querySelector("p.col-2").textContent = document.querySelector("textarea.col-0").value;
    const for_col_1 = () => {
        const uniq_word = () => R.uniq(
            document.querySelector("p.col-2").textContent.toLowerCase().replaceAll(".", "").replaceAll(",", "").split(" ")
        );
        const make_button_html = (word) => `<button onclick="execute('${word}')">${word}</button>`;
        function make_ul_li_html_string(){
            return R.map(
                (word) => `<li>${make_button_html(word)}</li>`,
                uniq_word()
            ).join("");
        }
        document.querySelector("ul").innerHTML = make_ul_li_html_string();
    };
    for_col_1();
};

const all_processing = () => {
    pre_processing();

    const temporary_lowercase = (LIST) => LIST.map(V=>V.toLowerCase());
    const temporary_lowercase_without_symbol = (LIST) => LIST.map(STR=>STR.replace(/[^a-z]/g, '').replace(/^[\r\n ]+$/g, ''));
    const list_0 = document.querySelector("p.col-2").textContent.split(" ");
    // const list_0 = document.querySelector("p"))[1.textContent.split(" ");
    const list_1 = temporary_lowercase_without_symbol(temporary_lowercase(document.querySelector("p.col-2").textContent.split(" ")));

    const multi_zip = (...arrays) => arrays[0].map((_, i) => arrays.map((arr) => arr[i]));

    const target_is = () => document.querySelector(`.target_str`).value;
    const the_list = multi_zip(
        list_0,
        list_1,
        list_1.map(V=>V === target_is() ? true : false)
    );

    const make_str_with_span_tag = (STR) => `<span class="red">${STR}</span>`;
    const insert_make_str_with_span_tag = () => the_list.map(LIST=> LIST[2] === true ? make_str_with_span_tag(LIST[0]) : LIST[0]);

    const the_list_2 = multi_zip(
        list_0,
        list_1,
        list_1.map(V=>V === target_is() ? true : false),
        insert_make_str_with_span_tag(),
    );

    const apply_changes_to_html = () => document.querySelector("p.col-3").innerHTML= the_list_2.map(LIST=>LIST[3]).join(" ");
    apply_changes_to_html();
};

const execute = (DATA) => {
    // console.log(DATA)
    // console.log(typeof DATA)
    DATA ? document.querySelector(`.target_str`).value = DATA : null;
    all_processing();
};

const init = () => {
    document.querySelector(`.target_str`).value = document.querySelector("li").textContent
    document.querySelector("li button").click()
};
sample_text_lorem();
execute();
init();



const css_root_reset = () => document.querySelector(":root").classList.value = "";
const css_root_none_co_2_col_3 = () => {css_root_reset();document.querySelector(":root").classList.add("none-col-2-col-3");}
const css_root_none_co_0_col_2 = () => {css_root_reset();document.querySelector(":root").classList.add("none-col-0-col-2");}
const css_root_none = () => {css_root_reset();document.querySelector(":root").classList.add("none");}

function random(seed) {
    const x = Math.sin(seed++) * 10000;
    return x - Math.floor(x);
}
function seedShuffle(array, seed) {
    let m = array.length, t, i;
    while (m) {
        i = Math.floor(random(seed) * m--);
        t = array[m];
        array[m] = array[i];
        array[i] = t;
        ++seed
    }
    return array;
}

const make_html_string_circle_box_html_random_array = (NUM, array) => `<div class="inner_box box_${NUM}">
<div class="circle circle_${array[0]}"></div>
<div class="circle circle_${array[1]}"></div>
<div class="circle circle_${array[2]}"></div>
<div class="circle circle_${array[3]}"></div>
<div class="circle circle_${array[4]}"></div>
<div class="circle circle_${array[5]}"></div>
<div class="circle circle_${array[6]}"></div>
<div class="circle circle_${array[7]}"></div>
<div class="circle circle_${array[8]}"></div>
<div class="circle circle_${array[9]}"></div>
<div class="circle circle_${array[10]}"></div>
<div class="circle circle_${array[11]}"></div>
</div>`;

const make_html_string_circle_box_css = (NUM) => `.box_${NUM}{
    top: ${NUM*10}px;
    left: ${NUM*30}px;
}`;
const make_html_string_circle_box_css_with_random = (NUM) => `.box_${NUM}{
    top: calc(${Math.round(Math.random(42)*10)+10*NUM}px - 100vh);
    left: calc(${Math.round(Math.random(42)*10)+30*NUM}px - 110vw);

    z-index: ${Math.round(Math.random(42)*10)};
}`;

// document.querySelector(`.box`).innerHTML = R.range(0, 100).map(V=>make_html_string_circle_box_html_random_array(V, seedShuffle(R.range(0, 12), Math.round(Math.random(42)*10)))).join("");
// document.querySelector(`style`).innerText += R.map(make_html_string_circle_box_css_with_random, R.range(0, 100)).join("");
</script>
</body>
</html>